"use strict";(self.webpackChunkhealthy=self.webpackChunkhealthy||[]).push([[230],{5230:(lt,T,c)=>{c.r(T),c.d(T,{DashboardModule:()=>dt});var t=c(9212),q=c(5149),n=c(6223),l=c(6814),S=c(4390),P=c(6208),k=c(8034),C=c(3680),m=c(649),O=c(833);let F=(()=>{class i{constructor(){}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(r,o){1&r&&t._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[m.lC,O.S]})}return i})();var h=c(7394),A=c(2528),D=c(3884),f=c(7700),_=c(1132),I=c(6385),N=c(1043);function E(i,a){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"please enter valid Product Name"),t.qZA())}function Y(i,a){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"please enter valid Nutrition Info"),t.qZA())}function J(i,a){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"please enter valid Ingredients"),t.qZA())}function j(i,a){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"please enter valid Price"),t.qZA())}function M(i,a){if(1&i&&(t.TgZ(0,"option",21),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.category_title," ")}}function L(i,a){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," please enter valid Category "),t.qZA())}let w=(()=>{class i{constructor(e,r,o,s){this.fb=e,this.dialogRef=r,this.productService=o,this.product=s,this.saving={isSaving:!1},this.selectedFile=null,this.categoriesSubscription=new h.w0,this.categories=[],this.addEditProductForm=this.fb.group({product_name:["",n.kI.required],product_nutrition_info:["",n.kI.required],product_ingredients:["",n.kI.required],price:[0,n.kI.required],category:[1,n.kI.required],image:[null,n.kI.required]})}ngOnInit(){this.product&&this.addEditProductForm.patchValue({product_name:this.product.product_name,product_nutrition_info:this.product.product_nutrition_info,product_ingredients:this.product.product_ingredients,price:this.product.price,category:1,image:null}),this.categoriesSubscription=this.productService.categoriesSubject.subscribe(e=>{this.categories=e})}ngOnDestroy(){}onFileChange(e){e.target.files.length>0&&(this.selectedFile=e.target.files[0],this.addEditProductForm.patchValue({image:this.selectedFile}))}onNoClick(){this.dialogRef.close(null)}saveProduct(){this.saving.isSaving=!0;let e={product_code:this.product.product_code||0,recipe_name:this.addEditProductForm.value.product_name||"",nutritional_info:this.addEditProductForm.value.product_nutrition_info||"",ingredients:this.addEditProductForm.value.product_ingredients||"",price:this.addEditProductForm.value.price||0,category:this.addEditProductForm.value.category,created_at:""+new Date};const r=new FormData;r.append("product_code",e.product_code),r.append("recipe_name",this.addEditProductForm.get("product_name")?.value),r.append("nutritional_info",this.addEditProductForm.get("product_nutrition_info")?.value),r.append("ingredients",this.addEditProductForm.get("product_ingredients")?.value),r.append("price",this.addEditProductForm.get("price")?.value),r.append("created_at",""+new Date),r.append("category",this.addEditProductForm.get("category")?.value),this.selectedFile&&r.append("image",this.selectedFile),this.productService.saveProduct(r,this.dialogRef,this.saving)}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(n.qu),t.Y36(f.so),t.Y36(_.s),t.Y36(f.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["add-edit-product-dialog"]],decls:40,vars:9,consts:[["mat-dialog-title","",1,"modal-title"],["mat-dialog-content",""],[3,"formGroup","submit"],[1,"mb-3"],["for","product_name",1,"form-label"],["type","text","formControlName","product_name",1,"form-control"],[4,"ngIf"],["for","product_nutrition_info",1,"form-label"],["type","text","formControlName","product_nutrition_info",1,"form-control"],["for","product_ingredients",1,"form-label"],["type","text","formControlName","product_ingredients",1,"form-control"],["for","price",1,"form-label"],["type","number","formControlName","price",1,"form-control"],["for","category",1,"form-label"],["formControlName","category",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","image",1,"form-label"],["type","file","id","image",1,"form-control",3,"change"],[1,"modal-footer"],[1,"modal-secondary-btn",2,"margin","4px",3,"click"],[1,"modal-primary-btn",2,"margin","4px",3,"disabled","click"],[3,"value"]],template:function(r,o){if(1&r&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t._UZ(2,"mat-divider"),t.TgZ(3,"div",1)(4,"form",2),t.NdJ("submit",function(){return o.saveProduct()}),t.TgZ(5,"div",3)(6,"label",4),t._uU(7," Product Name* "),t.qZA(),t._UZ(8,"input",5),t.YNc(9,E,2,0,"mat-error",6),t.qZA(),t.TgZ(10,"div",3)(11,"label",7),t._uU(12," Nutrition Info* "),t.qZA(),t._UZ(13,"input",8),t.YNc(14,Y,2,0,"mat-error",6),t.qZA(),t.TgZ(15,"div",3)(16,"label",9),t._uU(17," Ingredients* "),t.qZA(),t._UZ(18,"input",10),t.YNc(19,J,2,0,"mat-error",6),t.qZA(),t.TgZ(20,"div",3)(21,"label",11),t._uU(22," Price* "),t.qZA(),t._UZ(23,"input",12),t.YNc(24,j,2,0,"mat-error",6),t.qZA(),t.TgZ(25,"div",3)(26,"label",13),t._uU(27," Category* "),t.qZA(),t.TgZ(28,"select",14),t.YNc(29,M,2,2,"option",15),t.qZA(),t.YNc(30,L,2,0,"mat-error",6),t.qZA(),t.TgZ(31,"div",3)(32,"label",16),t._uU(33," Upload Image* "),t.qZA(),t.TgZ(34,"input",17),t.NdJ("change",function(d){return o.onFileChange(d)}),t.qZA()()()(),t.TgZ(35,"div",18)(36,"button",19),t.NdJ("click",function(){return o.onNoClick()}),t._uU(37," Close "),t.qZA(),t.TgZ(38,"button",20),t.NdJ("click",function(){return o.saveProduct()}),t._uU(39," Save "),t.qZA()()),2&r){let s,d,u,p,g;t.xp6(1),t.hij("",o.product.product_code?"Edit":"Add New"," Product"),t.xp6(3),t.Q6J("formGroup",o.addEditProductForm),t.xp6(5),t.Q6J("ngIf",(null==(s=o.addEditProductForm.get("product_name"))?null:s.invalid)&&(null==(s=o.addEditProductForm.get("product_name"))?null:s.touched)),t.xp6(5),t.Q6J("ngIf",(null==(d=o.addEditProductForm.get("product_nutrition_info"))?null:d.invalid)&&(null==(d=o.addEditProductForm.get("product_nutrition_info"))?null:d.touched)),t.xp6(5),t.Q6J("ngIf",(null==(u=o.addEditProductForm.get("product_ingredients"))?null:u.invalid)&&(null==(u=o.addEditProductForm.get("product_ingredients"))?null:u.touched)),t.xp6(5),t.Q6J("ngIf",(null==(p=o.addEditProductForm.get("price"))?null:p.invalid)&&(null==(p=o.addEditProductForm.get("price"))?null:p.touched)),t.xp6(5),t.Q6J("ngForOf",o.categories),t.xp6(1),t.Q6J("ngIf",(null==(g=o.addEditProductForm.get("category"))?null:g.invalid)&&(null==(g=o.addEditProductForm.get("category"))?null:g.touched)),t.xp6(8),t.Q6J("disabled",o.addEditProductForm.invalid||o.saving.isSaving)}},dependencies:[I.d,N.TO,f.uh,f.xY,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,l.sg,l.O5],styles:[".modal-title[_ngcontent-%COMP%]{font-size:1.25rem;color:#3e465b}.form-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#525b75}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:.75rem;border-top:1px solid #e3e6ed;border-bottom-left-radius:calc(.375rem - 1px);border-bottom-right-radius:calc(.375rem - 1px)}.inner-table[_ngcontent-%COMP%]{border-color:#dee2e6}.timePikcer[_ngcontent-%COMP%]{color:#00f}"]})}return i})();var v=c(7849),b=c(5852),Z=c(77),x=c(6593),y=c(8736),H=c(2596);const Q=i=>({active:i});function $(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",13)(1,"span",14),t.NdJ("click",function(){const s=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.setActiveCategory(s))}),t._uU(2),t.qZA()()}if(2&i){const e=a.$implicit,r=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,Q,e==r.activeCategory)),t.xp6(1),t.hij(" ",e," ")}}function z(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addNewProduct())}),t.O4$(),t.TgZ(1,"svg",16),t._UZ(2,"circle",17)(3,"line",18)(4,"line",19),t.qZA(),t._uU(5," Add New Product "),t.qZA()}}function K(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"div",27),t._UZ(3,"img",28),t.qZA(),t.TgZ(4,"div",29)(5,"div",30)(6,"h5",31),t._uU(7),t.qZA(),t.TgZ(8,"div",32)(9,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit,d=t.oxw(4);return t.KtG(d.addToCart(s))}),t.O4$(),t.TgZ(10,"svg",34),t._UZ(11,"circle",35)(12,"circle",36)(13,"path",37),t.qZA()()()(),t.kcU(),t.TgZ(14,"p",38),t._uU(15),t.qZA(),t.TgZ(16,"ul",39)(17,"li",40)(18,"strong"),t._uU(19,"Ingredients:"),t.qZA(),t.TgZ(20,"p",41),t._uU(21),t.qZA()(),t.TgZ(22,"li",42)(23,"strong"),t._uU(24,"Price:"),t.qZA(),t._uU(25),t.qZA()()()()()}if(2&i){const e=a.$implicit;t.xp6(3),t.s9C("src",e.image,t.LSH),t.s9C("alt",e.product_name),t.xp6(4),t.Oqu(e.product_name),t.xp6(7),t.s9C("matTooltip",e.product_nutrition_info),t.xp6(1),t.Oqu(e.product_nutrition_info),t.xp6(2),t.s9C("matTooltip",e.product_ingredients),t.xp6(4),t.Oqu(e.product_ingredients),t.xp6(4),t.hij(" $",e.price,"")}}function B(i,a){if(1&i&&(t.TgZ(0,"div",23),t.YNc(1,K,26,8,"div",24),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.items)}}function R(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",44)(1,"div",45)(2,"div",46),t._UZ(3,"img",47),t.qZA(),t.TgZ(4,"div",48)(5,"div",30)(6,"h5",31),t._uU(7),t.qZA()(),t.TgZ(8,"p",49),t._uU(9),t.qZA(),t.TgZ(10,"ul",39)(11,"li",50)(12,"strong"),t._uU(13,"Ingredients:"),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"li",42)(16,"strong"),t._uU(17,"Price:"),t.qZA(),t._uU(18),t.qZA()()(),t.TgZ(19,"div",51)(20,"button",52),t.NdJ("click",function(){const s=t.CHM(e).$implicit,d=t.oxw(4);return t.KtG(d.editProduct(s))}),t._uU(21," Edit "),t.qZA(),t.TgZ(22,"button",53),t.NdJ("click",function(){const s=t.CHM(e).$implicit,d=t.oxw(4);return t.KtG(d.deleteProduct(s))}),t.O4$(),t.TgZ(23,"svg",54),t._UZ(24,"path",55),t.qZA(),t.kcU(),t.TgZ(25,"span"),t._uU(26,"Delete"),t.qZA()()()()()}if(2&i){const e=a.$implicit;t.xp6(3),t.s9C("src",e.image,t.LSH),t.s9C("alt",e.product_name),t.xp6(4),t.Oqu(e.product_name),t.xp6(2),t.Oqu(e.product_nutrition_info),t.xp6(5),t.hij(" ",e.product_ingredients,""),t.xp6(4),t.hij(" $",e.price,"")}}function G(i,a){if(1&i&&(t.TgZ(0,"div",23),t.YNc(1,R,27,6,"div",43),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.items)}}function V(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,B,2,1,"div",21)(2,G,2,1,"div",22),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf","admin"!=e.user.role),t.xp6(1),t.Q6J("ngIf","admin"==e.user.role)}}function X(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,V,3,2,"div",20),t.qZA()),2&i){const e=a.$implicit,r=t.oxw();t.xp6(1),t.Q6J("ngIf",e.category==r.activeCategory)}}let W=(()=>{class i{constructor(e,r,o,s,d,u,p){this.dialog=e,this._liveAnnouncer=r,this.productsService=o,this.mainService=s,this.toasterDisplayService=d,this.title=u,this.usersService=p,this.productsSubscription=new h.w0,this.usersSubscription=new h.w0,this.user=new A.n,this.products=[],this.categories=[],this.activeCategory=""}ngOnInit(){this.mainService.setNavbarVisible(!1),this.productsSubscription=this.productsService.productsSubject.subscribe(e=>{this.products=e,this.categories=e.map(r=>r.category),this.activeCategory=this.categories[0]}),this.productsService.getProducts(),this.getUser(),this.productsService.getCategories(),this.title.setTitle("Healthy Products")}setActiveCategory(e){this.activeCategory=e}addToMeal(e){this.toasterDisplayService.showSuccess("Product Added To Meal Successfully")}addToCart(e){this.productsService.addToCart(e),this.toasterDisplayService.showSuccess("Product Added To Cart Successfully")}ngOnDestroy(){this.productsSubscription.unsubscribe(),this.usersSubscription.unsubscribe()}getUser(){this.usersService.getCurrentUser();let e=localStorage.getItem("currentUser")?JSON.parse(localStorage.getItem("currentUser")||""):new A.n;this.user=e,this.user.id||(this.usersSubscription=this.usersService.currentUserSubject.subscribe(r=>{this.user=r}))}deleteProduct(e){this.dialog.open(D.Z,{data:{title:"Delete Product",message:"Are you sure you want to delete this product?"},position:{top:"6rem"},width:"600px"}).afterClosed().subscribe(o=>{o&&this.productsService.deleteProduct(e)})}editProduct(e){this.dialog.open(w,{data:e||0,position:{top:"6rem"},width:"600px"})}addNewProduct(){this.dialog.open(w,{data:0,position:{top:"6rem"},width:"600px"})}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(f.uw),t.Y36(v.Kd),t.Y36(_.s),t.Y36(b.J),t.Y36(Z.l),t.Y36(x.Dx),t.Y36(y.f))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-products"]],decls:16,vars:4,consts:[[1,"content",2,"margin-left","unset"],[1,"px-4","px-lg-6","border-x","border-300",2,"padding-top","2.2rem"],[1,"d-flex",2,"align-items","center","justify-content","center","flex-wrap","wrap"],["class","category-section",4,"ngFor","ngForOf"],[1,"row","g-3","justify-content-between","align-items-end","mb-4"],[1,"col-12","col-md-auto"],[1,"row","g-2","gy-3"],[1,"col-auto","flex-1","search-box"],[2,"display","flex","padding-left","15px","justify-content","space-between"],[1,"main-title",2,"margin-bottom","1rem !important"],["style","display: flex; margin: 4px; align-items: center; justify-content: space-between;","class","modal-secondary-btn ",3,"click",4,"ngIf"],[2,"max-height","calc(100vh - 20rem)","overflow","scroll"],[4,"ngFor","ngForOf"],[1,"category-section"],[1,"btn-secondary-mod",2,"width","8rem","margin-right","10px",3,"ngClass","click"],[1,"modal-secondary-btn",2,"display","flex","margin","4px","align-items","center","justify-content","space-between",3,"click"],["width"," 20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-plus-circle","text-900","fs-3",2,"margin-right","5px"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","16"],["x1","8","y1","12","x2","16","y2","12"],[4,"ngIf"],["class","row","style","margin-left: unset; margin-right: unset;",4,"ngIf"],["class","row","style","margin-left: unset; margin-right: unset",4,"ngIf"],[1,"row",2,"margin-left","unset","margin-right","unset"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"card","mb-3"],[1,"p-3"],[1,"card-img-top",2,"height","400px",3,"src","alt"],[1,"card-body"],[2,"display","flex","align-items","center","justify-content","space-between"],[1,"card-title"],[2,"display","flex"],["matTooltip","Add To Cart",1,"img-btn","btn","btn-secondary-mod-img","btn-secondary-mod-small","btn-icon","fs--2","px-0",2,"margin-left","auto","margin-bottom","1rem",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16px","height","16px","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-shopping-cart"],["cx","9","cy","21","r","1"],["cx","20","cy","21","r","1"],["d","M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"],[1,"card-text","limit-height",3,"matTooltip"],[1,"list-group","list-group-flush"],[1,"list-group-item",3,"matTooltip"],[1,"limit-height"],[1,"list-group-item",2,"font-size","x-large","font-weight","500"],["class","col-md-12","style","height: 17rem;",4,"ngFor","ngForOf"],[1,"col-md-12",2,"height","17rem"],[1,"card","mb-3",2,"flex-direction","row"],[1,"p-3",2,"width","18rem"],[1,"card-img-top",2,"max-height","100%","max-width","100%","object-fit","cover","height","240px","border-radius","0.5rem",3,"src","alt"],[1,"card-body",2,"width","50%"],[1,"card-text"],[1,"list-group-item"],[1,"p-3",2,"display","flex","flex-direction","column","height","100%"],["type","submit",1,"modal-primary-btn",2,"margin","4px",3,"click"],["type","button",1,"modal-danger-btn",2,"margin","4px",3,"click"],["width","16px","height","16px","aria-hidden","true","focusable","false","data-prefix","fas","data-icon","trash","role","img","viewBox","0 0 448 512","data-fa-i2svg","",1,"svg-inline--fa","fa-trash",2,"vertical-align","sub","margin-right","10px"],["fill","currentColor","d","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2),t.YNc(4,$,3,4,"div",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6),t._UZ(8,"div",7),t.qZA()()(),t.TgZ(9,"div",8)(10,"h3",9),t._uU(11),t.qZA(),t.YNc(12,z,6,0,"button",10),t.qZA(),t.TgZ(13,"div",11)(14,"div"),t.YNc(15,X,2,1,"div",12),t.qZA()()()()()),2&r&&(t.xp6(4),t.Q6J("ngForOf",o.categories),t.xp6(7),t.Oqu(o.activeCategory),t.xp6(1),t.Q6J("ngIf","admin"==o.user.role),t.xp6(3),t.Q6J("ngForOf",o.products))},dependencies:[H.gM,l.mk,l.sg,l.O5],styles:[".category-section[_ngcontent-%COMP%]{margin-bottom:2rem}.card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:.5rem;box-shadow:0 2px 4px #0000001a}.card-img-top[_ngcontent-%COMP%]{border-top-left-radius:.5rem;border-top-right-radius:.5rem;height:200px;object-fit:cover}.card-body[_ngcontent-%COMP%]{padding:1rem}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.75rem}.card-text[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}.list-group-item[_ngcontent-%COMP%]{font-size:.875rem}.card[_ngcontent-%COMP%], .list-group-item[_ngcontent-%COMP%]{background:transparent}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:97%}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;flex-grow:1}.list-group[_ngcontent-%COMP%]{margin-top:auto}.limit-height[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;max-height:100px}"]})}return i})();function tt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.checkOut())}),t._uU(1,"Confirm Order"),t.qZA()}}const et=()=>["/login"];function it(i,a){1&i&&(t.TgZ(0,"a",49),t._uU(1,"Please sign in before Checking out"),t.qZA()),2&i&&t.Q6J("routerLink",t.DdM(1,et))}function ot(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr",40)(1,"td",41),t._UZ(2,"img",42),t.qZA(),t.TgZ(3,"td",43),t._uU(4),t.qZA(),t.TgZ(5,"td",44),t._uU(6),t.qZA(),t.TgZ(7,"td",45),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td",45),t._uU(11),t.qZA(),t.TgZ(12,"td",46),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.TgZ(15,"td",47)(16,"button",48),t.NdJ("click",function(){const s=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.removeItem(s))}),t.O4$(),t.TgZ(17,"svg",49),t._UZ(18,"path",50),t.qZA()()()()}if(2&i){const e=a.$implicit;t.xp6(2),t.s9C("src",e.image,t.LSH),t.s9C("alt",e.product_name),t.xp6(2),t.Oqu(e.product_name),t.xp6(2),t.Oqu(e.category),t.xp6(2),t.Oqu(t.lcZ(9,7,e.price)),t.xp6(3),t.Oqu(e.quantity),t.xp6(2),t.Oqu(t.lcZ(14,9,e.price*(e.quantity||0)))}}function nt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",51),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.checkOut())}),t._uU(1,"Proceed to check out"),t.qZA()}}const st=()=>["/login"];function ct(i,a){1&i&&(t.TgZ(0,"a",52),t._uU(1,"Please sign in before Checking out"),t.qZA()),2&i&&t.Q6J("routerLink",t.DdM(1,st))}const at=[{path:"",component:F,children:[{path:"",redirectTo:"products",pathMatch:"full"},{path:"checkout",component:(()=>{class i{constructor(e,r,o,s,d,u,p,g){this.dialog=e,this._liveAnnouncer=r,this.productsService=o,this.mainService=s,this.toasterDisplayService=d,this.usersService=u,this.title=p,this.router=g,this.expectedDeliveryDate="",this.cartSubscription=new h.w0,this.userSubscription=new h.w0,this.cartItems=[],this.currentUser=this.usersService.currentUserSubject.value,this.itemsSubtotal=0,this.discount=0,this.tax=0,this.subtotal=0,this.shippingCost=0,this.total=0,this.categories=[],this.activeCategory=""}ngOnInit(){this.mainService.setNavbarVisible(!1),this.cartSubscription=this.productsService.cartSubject.subscribe(e=>{this.cartItems=e,this.calculateSummary()}),this.usersService.getCurrentUser(),this.userSubscription=this.usersService.currentUserSubject.subscribe(e=>{this.currentUser=e}),this.setExpectedDeliveryDate(),this.title.setTitle("Healthy Cart")}removeItem(e){this.productsService.removeFromCart(e),this.calculateSummary()}calculateSummary(){this.itemsSubtotal=this.cartItems.reduce((e,r)=>e+r.price*(r.quantity||0),0),this.discount=.1*this.itemsSubtotal,this.tax=.18*this.itemsSubtotal,this.subtotal=this.itemsSubtotal-this.discount+this.tax,this.shippingCost=this.itemsSubtotal>0?15:0,this.itemsSubtotal>0&&(this.total=this.subtotal+this.shippingCost)}checkOut(){this.productsService.createNewOrder()}ngOnDestroy(){this.cartSubscription.unsubscribe(),this.userSubscription.unsubscribe()}setExpectedDeliveryDate(){const e=new Date,r=new Date(e.setDate(e.getDate()+3));this.expectedDeliveryDate=r.toISOString().split("T")[0]}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(f.uw),t.Y36(v.Kd),t.Y36(_.s),t.Y36(b.J),t.Y36(Z.l),t.Y36(y.f),t.Y36(x.Dx),t.Y36(m.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-checkout"]],decls:121,vars:27,consts:[[1,"content",2,"margin-left","unset"],[1,"px-4","px-lg-6","border-x","border-300",2,"padding-top","2.2rem"],[1,"d-flex",2,"align-items","center","justify-content","center"],[1,"row","g-3","justify-content-between","align-items-end","mb-4"],[1,"col-12","col-md-auto"],[1,"row","g-2","gy-3"],[1,"col-auto","flex-1","search-box"],[2,"max-height","calc(100vh - 14.2rem)","overflow","scroll"],[1,"main-title",2,"margin-bottom","1rem !important"],[1,"row","justify-content-between",2,"width","95%"],[1,"col-lg-7","col-xl-7"],[1,"mb-0","me-3","fs-3","fw-bold"],[1,"table","table-borderless","mt-4"],[1,"py-2","ps-0",2,"background","transparent"],[1,"d-flex"],["xmlns","http://www.w3.org/2000/svg","width","16px","height","16px","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-user","fs-3","me-2",2,"height","20px","width","18px"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[2,"display","flex","align-items","flex-end"],[1,"lh-sm","me-4","fs-5","fw-bold"],[1,"text-body-secondary","fs-5"],["xmlns","http://www.w3.org/2000/svg","width","16px","height","16px","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-phone","fs-3","me-2",2,"height","20px","width","18px"],["d","M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"],[1,"mb-6","mt-6"],[1,"d-flex","align-items-end"],[1,"mb-0","me-3","fs-3","fw-bold","mt-4"],["xmlns","http://www.w3.org/2000/svg","width","16px","height","16px","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-home","fs-3","me-2",2,"height","20px","width","18px"],["d","M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"],["points","9 22 9 12 15 12 15 22"],[1,"col-12","col-lg-3"],[1,"card"],[1,"card-body"],[1,"d-flex","flex-between-center","mb-3"],[1,"card-title","mb-0"],["aria-label","delivery type","disabled","",1,"form-select","mb-3"],["value","cod"],[1,"container","mt-4"],[1,"d-flex","justify-content-between"],[1,"text-body","fw-semibold"],[1,"text-body-emphasis","fw-semibold"],[1,"text-danger","fw-semibold"],[1,"input-group","mb-3"],["type","text","placeholder","Voucher","disabled","",1,"form-control"],[1,"d-flex","justify-content-between","border-y","border-dashed","pt-3","mb-4"],[1,"mb-0"],[1,""],["class","btn btn-primary-mod w-100",3,"click",4,"ngIf"],["class","btn btn-primary-mod w-100",3,"routerLink",4,"ngIf"],[1,"btn","btn-primary-mod","w-100",3,"click"],[1,"btn","btn-primary-mod","w-100",3,"routerLink"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div"),t._UZ(3,"div",2),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5),t._UZ(7,"div",6),t.qZA()()(),t.TgZ(8,"div",7)(9,"h3",8),t._uU(10,"Check out"),t.qZA(),t.TgZ(11,"div")(12,"div",9)(13,"div",10)(14,"form")(15,"h3",11),t._uU(16,"Billing Details"),t.qZA(),t.TgZ(17,"table",12)(18,"tbody")(19,"tr")(20,"td",13)(21,"div",14),t.O4$(),t.TgZ(22,"svg",15),t._UZ(23,"path",16)(24,"circle",17),t.qZA(),t.kcU(),t.TgZ(25,"div",18)(26,"h5",19),t._uU(27,"Name :"),t.qZA(),t.TgZ(28,"h5",20),t._uU(29),t.qZA()()()()(),t.TgZ(30,"tr")(31,"td",13)(32,"div",14),t.O4$(),t.TgZ(33,"svg",21),t._UZ(34,"path",22),t.qZA(),t.kcU(),t.TgZ(35,"div",18)(36,"h5",19),t._uU(37,"Phone :"),t.qZA(),t.TgZ(38,"h5",20),t._uU(39),t.qZA()()()()()()(),t._UZ(40,"hr",23),t.TgZ(41,"div",24)(42,"h3",25),t._uU(43,"Shipping Details"),t.qZA()(),t.TgZ(44,"table",12)(45,"tbody")(46,"tr")(47,"td",13)(48,"div",14),t.O4$(),t.TgZ(49,"svg",26),t._UZ(50,"path",27)(51,"polyline",28),t.qZA(),t.kcU(),t.TgZ(52,"div",18)(53,"h5",19),t._uU(54,"Address :"),t.qZA(),t.TgZ(55,"h5",20),t._uU(56),t.qZA()()()()()()()()(),t.TgZ(57,"div",29)(58,"div",30)(59,"div",31)(60,"div",32)(61,"h3",33),t._uU(62,"Summary"),t.qZA()(),t.TgZ(63,"select",34)(64,"option",35),t._uU(65,"Cash on Delivery"),t.qZA()(),t.TgZ(66,"div")(67,"div",36)(68,"h2"),t._uU(69,"Cart Summary"),t.qZA(),t.TgZ(70,"div",37)(71,"p",38),t._uU(72,"Items subtotal :"),t.qZA(),t.TgZ(73,"p",39),t._uU(74),t.ALo(75,"currency"),t.qZA()(),t.TgZ(76,"div",37)(77,"p",38),t._uU(78,"Discount :"),t.qZA(),t.TgZ(79,"p",40),t._uU(80),t.ALo(81,"currency"),t.qZA()(),t.TgZ(82,"div",37)(83,"p",38),t._uU(84,"Tax :"),t.qZA(),t.TgZ(85,"p",39),t._uU(86),t.ALo(87,"currency"),t.qZA()(),t.TgZ(88,"div",37)(89,"p",38),t._uU(90,"Subtotal :"),t.qZA(),t.TgZ(91,"p",39),t._uU(92),t.ALo(93,"currency"),t.qZA()(),t.TgZ(94,"div",37)(95,"p",38),t._uU(96,"Shipping Cost :"),t.qZA(),t.TgZ(97,"p",39),t._uU(98),t.ALo(99,"currency"),t.qZA()(),t.TgZ(100,"div",37)(101,"p",38),t._uU(102,"Total :"),t.qZA(),t.TgZ(103,"p",39),t._uU(104),t.ALo(105,"currency"),t.qZA()(),t.TgZ(106,"div",41),t._UZ(107,"input",42),t.qZA(),t.TgZ(108,"div",43)(109,"h4",44),t._uU(110,"Total :"),t.qZA(),t.TgZ(111,"h4",45),t._uU(112),t.ALo(113,"currency"),t.qZA()(),t.TgZ(114,"div",37)(115,"p",38),t._uU(116,"Expected Delivery Date:"),t.qZA(),t.TgZ(117,"p",39),t._uU(118),t.qZA()(),t.YNc(119,tt,2,0,"button",46)(120,it,2,2,"a",47),t.qZA()()()()()()()()()()()),2&r&&(t.xp6(29),t.Oqu(o.currentUser.fullName),t.xp6(10),t.Oqu(o.currentUser.customer_phone),t.xp6(17),t.Oqu(o.currentUser.customer_address),t.xp6(18),t.Oqu(t.lcZ(75,13,o.itemsSubtotal)),t.xp6(6),t.hij("-",t.lcZ(81,15,o.discount),""),t.xp6(6),t.Oqu(t.lcZ(87,17,o.tax)),t.xp6(6),t.Oqu(t.lcZ(93,19,o.subtotal)),t.xp6(6),t.Oqu(t.lcZ(99,21,o.shippingCost)),t.xp6(6),t.Oqu(t.lcZ(105,23,o.total)),t.xp6(8),t.Oqu(t.lcZ(113,25,o.total)),t.xp6(6),t.Oqu(o.expectedDeliveryDate),t.xp6(1),t.Q6J("ngIf",o.currentUser.role),t.xp6(1),t.Q6J("ngIf",!o.currentUser.role))},dependencies:[n._Y,n.YN,n.Kr,n.JL,l.O5,m.rH,n.F,l.H9]})}return i})()},{path:"cart",component:(()=>{class i{constructor(e,r,o,s,d,u,p,g){this.dialog=e,this._liveAnnouncer=r,this.productsService=o,this.mainService=s,this.toasterDisplayService=d,this.usersService=u,this.title=p,this.router=g,this.cartSubscription=new h.w0,this.userSubscription=new h.w0,this.cartItems=[],this.currentUser=this.usersService.currentUserSubject.value,this.itemsSubtotal=0,this.discount=0,this.tax=0,this.subtotal=0,this.shippingCost=0,this.total=0,this.categories=[],this.activeCategory=""}ngOnInit(){this.mainService.setNavbarVisible(!1),this.cartSubscription=this.productsService.cartSubject.subscribe(e=>{this.cartItems=e,this.calculateSummary()}),this.usersService.getCurrentUser(),this.userSubscription=this.usersService.currentUserSubject.subscribe(e=>{this.currentUser=e}),this.title.setTitle("Healthy Cart")}removeItem(e){this.productsService.removeFromCart(e),this.calculateSummary()}calculateSummary(){this.itemsSubtotal=this.cartItems.reduce((e,r)=>e+r.price*(r.quantity||0),0),this.discount=.1*this.itemsSubtotal,this.tax=.18*this.itemsSubtotal,this.subtotal=this.itemsSubtotal-this.discount+this.tax,this.shippingCost=this.itemsSubtotal>0?15:0,this.itemsSubtotal>0&&(this.total=this.subtotal+this.shippingCost)}checkOut(){this.router.navigate(["/dashboard/checkout"])}ngOnDestroy(){this.cartSubscription.unsubscribe(),this.userSubscription.unsubscribe()}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(f.uw),t.Y36(v.Kd),t.Y36(_.s),t.Y36(b.J),t.Y36(Z.l),t.Y36(y.f),t.Y36(x.Dx),t.Y36(m.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-cart"]],decls:99,vars:24,consts:[[1,"content",2,"margin-left","unset"],[1,"px-4","px-lg-6","border-x","border-300",2,"padding-top","2.2rem"],[1,"d-flex",2,"align-items","center","justify-content","center"],[1,"row","g-3","justify-content-between","align-items-end","mb-4"],[1,"col-12","col-md-auto"],[1,"row","g-2","gy-3"],[1,"col-auto","flex-1","search-box"],[2,"max-height","calc(100vh - 14.2rem)","overflow","scroll"],[1,"main-title",2,"margin-bottom","1rem !important"],[1,"row","g-5",2,"width","95%","justify-content","space-between"],[1,"col-12","col-lg-8"],["id","cartTable","data-list",'{"valueNames":["products","color","size","price","quantity","total"],"page":10}'],[1,"table-responsive","scrollbar","mx-n1","px-1"],[1,"table","fs-9","mb-0","border-top","border-translucent"],["scope","col",1,"sort","white-space-nowrap","align-middle","fs-10",2,"background","transparent"],["scope","col",1,"sort","white-space-nowrap","align-middle",2,"min-width","250px","background","transparent"],["scope","col",1,"sort","align-middle",2,"min-width","100px","background","transparent"],["scope","col",1,"sort","align-middle",2,"min-width","50px","background","transparent"],["id","cart-table-body",1,"list"],["class","cart-table-row btn-reveal-trigger",4,"ngFor","ngForOf"],[1,"col-12","col-lg-3"],[1,"card"],[1,"card-body"],[1,"d-flex","flex-between-center","mb-3"],[1,"card-title","mb-0"],["aria-label","delivery type",1,"form-select","mb-3"],["value","cod"],[1,"container","mt-4"],[1,"d-flex","justify-content-between"],[1,"text-body","fw-semibold"],[1,"text-body-emphasis","fw-semibold"],[1,"text-danger","fw-semibold"],[1,"input-group","mb-3"],["type","text","placeholder","Voucher",1,"form-control"],[1,"btn","btn-phoenix-primary","px-5"],[1,"d-flex","justify-content-between","border-y","border-dashed","pt-3","mb-4"],[1,"mb-0"],[1,""],["class","btn btn-primary-mod w-100",3,"click",4,"ngIf"],["class","btn btn-primary-mod w-100",3,"routerLink",4,"ngIf"],[1,"cart-table-row","btn-reveal-trigger"],[1,"align-middle","white-space-nowrap","py-0",2,"background","transparent"],[1,"card-img-top",2,"height","71px","width","71px","padding","0.5rem",3,"src","alt"],[1,"align-middle","white-space-nowrap","py-0",2,"background","transparent","color","#0d6efd","text-decoration","underline"],[1,"size","align-middle","white-space-nowrap","fs-9","fw-semibold",2,"background","transparent"],[1,"price","align-middle","text-body","fs-9","fw-semibold",2,"background","transparent"],[1,"total","align-middle","fw-bold","text-body-highlight",2,"background","transparent"],[1,"align-middle","white-space-nowrap",2,"background","transparent"],[1,"btn","btn-secondary-mod","btn-icon","fs--2","text-danger","px-0",3,"click"],["width","16px","height","16px","aria-hidden","true","focusable","false","data-prefix","fas","data-icon","trash","role","img","viewBox","0 0 448 512",1,"svg-inline--fa","fa-trash"],["fill","currentColor","d","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"],[1,"btn","btn-primary-mod","w-100",3,"click"],[1,"btn","btn-primary-mod","w-100",3,"routerLink"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div"),t._UZ(3,"div",2),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5),t._UZ(7,"div",6),t.qZA()()(),t.TgZ(8,"div",7)(9,"h3",8),t._uU(10,"Cart"),t.qZA(),t.TgZ(11,"div")(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"table",13)(17,"thead")(18,"tr"),t._UZ(19,"th",14),t.TgZ(20,"th",15),t._uU(21,"PRODUCTS"),t.qZA(),t.TgZ(22,"th",16),t._uU(23,"Category"),t.qZA(),t.TgZ(24,"th",17),t._uU(25,"PRICE"),t.qZA(),t.TgZ(26,"th",17),t._uU(27,"QUANTITY"),t.qZA(),t.TgZ(28,"th",17),t._uU(29,"TOTAL"),t.qZA(),t._UZ(30,"th",17),t.qZA()(),t.TgZ(31,"tbody",18),t.YNc(32,ot,19,11,"tr",19),t.qZA()()()()(),t.TgZ(33,"div",20)(34,"div",21)(35,"div",22)(36,"div",23)(37,"h3",24),t._uU(38,"Summary"),t.qZA()(),t.TgZ(39,"select",25)(40,"option",26),t._uU(41,"Cash on Delivery"),t.qZA()(),t.TgZ(42,"div")(43,"div",27)(44,"h2"),t._uU(45,"Cart Summary"),t.qZA(),t.TgZ(46,"div",28)(47,"p",29),t._uU(48,"Items subtotal :"),t.qZA(),t.TgZ(49,"p",30),t._uU(50),t.ALo(51,"currency"),t.qZA()(),t.TgZ(52,"div",28)(53,"p",29),t._uU(54,"Discount :"),t.qZA(),t.TgZ(55,"p",31),t._uU(56),t.ALo(57,"currency"),t.qZA()(),t.TgZ(58,"div",28)(59,"p",29),t._uU(60,"Tax :"),t.qZA(),t.TgZ(61,"p",30),t._uU(62),t.ALo(63,"currency"),t.qZA()(),t.TgZ(64,"div",28)(65,"p",29),t._uU(66,"Subtotal :"),t.qZA(),t.TgZ(67,"p",30),t._uU(68),t.ALo(69,"currency"),t.qZA()(),t.TgZ(70,"div",28)(71,"p",29),t._uU(72,"Shipping Cost :"),t.qZA(),t.TgZ(73,"p",30),t._uU(74),t.ALo(75,"currency"),t.qZA()(),t.TgZ(76,"div",28)(77,"p",29),t._uU(78,"Total :"),t.qZA(),t.TgZ(79,"p",30),t._uU(80),t.ALo(81,"currency"),t.qZA()(),t.TgZ(82,"div",32),t._UZ(83,"input",33),t.TgZ(84,"button",34),t._uU(85,"Apply"),t.qZA()(),t.TgZ(86,"div",35)(87,"h4",36),t._uU(88,"Total :"),t.qZA(),t.TgZ(89,"h4",37),t._uU(90),t.ALo(91,"currency"),t.qZA()(),t.TgZ(92,"div",28)(93,"p",29),t._uU(94,"Delivery Address:"),t.qZA(),t.TgZ(95,"p",30),t._uU(96,"23th Main Street, London"),t.qZA()(),t.YNc(97,nt,2,0,"button",38)(98,ct,2,2,"a",39),t.qZA()()()()()()()()()()()),2&r&&(t.xp6(32),t.Q6J("ngForOf",o.cartItems),t.xp6(18),t.Oqu(t.lcZ(51,10,o.itemsSubtotal)),t.xp6(6),t.hij("-",t.lcZ(57,12,o.discount),""),t.xp6(6),t.Oqu(t.lcZ(63,14,o.tax)),t.xp6(6),t.Oqu(t.lcZ(69,16,o.subtotal)),t.xp6(6),t.Oqu(t.lcZ(75,18,o.shippingCost)),t.xp6(6),t.Oqu(t.lcZ(81,20,o.total)),t.xp6(10),t.Oqu(t.lcZ(91,22,o.total)),t.xp6(7),t.Q6J("ngIf",o.currentUser.role),t.xp6(1),t.Q6J("ngIf",!o.currentUser.role))},dependencies:[n.YN,n.Kr,l.sg,l.O5,m.rH,l.H9]})}return i})()},{path:"products",component:W}]}];let U=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(at),m.Bz]})}return i})(),dt=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({providers:[(0,t.RIp)(C.XK)],imports:[q.q,n.UX,l.ez,U,S.fx.forRoot(),n.u5,P.m,k.FA,C.XK,U]})}return i})()}}]);