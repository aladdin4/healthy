<h1 mat-dialog-title class="modal-title">{{userState}}</h1>
<mat-divider></mat-divider>

<div mat-dialog-content>
  <form [formGroup]="addEditUserForm" (submit)="saveUser()">
    <div class="mb-3">
      <label class="form-label" for="first_name">First Name* </label>
      <input class="form-control" type="text" formControlName="first_name" placeholder="Enter User's First Name" />
      <mat-error *ngIf="addEditUserForm.get('first_name')?.invalid && addEditUserForm.get('first_name')?.touched">
        Please Enter Valid User Name
      </mat-error>
    </div>

    <div class="mb-3">
      <label class="form-label" for="last_name">Last Name* </label>
      <input class="form-control" type="text" formControlName="last_name" placeholder="Enter User's Last Name" />
      <mat-error *ngIf="addEditUserForm.get('last_name')?.invalid && addEditUserForm.get('last_name')?.touched">
        Please Enter Valid User Name
      </mat-error>
    </div>

    <div class="mb-3">
      <label class="form-label" for="email">Email* </label>
      <input class="form-control" type="text" formControlName="email" placeholder="Enter User's Email" />
      <mat-error *ngIf="addEditUserForm.get('email')?.invalid && addEditUserForm.get('email')?.touched">
        Please Enter Valid Email
      </mat-error>
    </div>

    <div class="mb-3">
      <label class="form-label" for="role">User role* </label>
      <ng-select [clearable]="false" formControlName="role" placeholder="Select User Role" style="border-color: #dee2e6">
        <ng-option *ngFor="let role of roleNames" [value]="role">{{role}}</ng-option>
      </ng-select>
      <mat-error *ngIf="addEditUserForm.get('role')?.invalid && addEditUserForm.get('role')?.touched">
        Please Select Valid Role
      </mat-error>
    </div>
  </form>
</div>

<div class="modal-footer" style=" width: 95%">
  <ng-container>
    <button style="margin-right: auto; margin-left: 1rem;" *ngIf="user.id" class="modal-danger-btn"
            type="button" (click)="deleteUser()">
      <svg style="vertical-align: sub" width="16px" height="16px" class="svg-inline--fa fa-trash" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash"
           role="img" viewBox="0 0 448 512" data-fa-i2svg="">
        <path fill="currentColor"
              d="M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z">
        </path>
      </svg>
      <span>
        Delete User
      </span>
    </button>
  </ng-container>

  <button style="margin: 4px" class="modal-secondary-btn" (click)="onNoClick()">
    Close
  </button>
  <button style="margin: 4px" class="modal-primary-btn" (click)="saveUser()" [disabled]="addEditUserForm.get('first_name')?.invalid || addEditUserForm.get('last_name')?.invalid || addEditUserForm.get('email')?.invalid || addEditUserForm.get('role')?.invalid" type="submit">
    Save
  </button>
</div>
